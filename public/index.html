<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
        <title>React Learning App</title>
  </head>
  <body>
    <div id="root">
    </div>
    <script src="https://unpkg.com/react@17.0.0/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17.0.0/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone@7.12.4/babel.js"></script>
    <script src="https://unpkg.com/prop-types@15.7.2/prop-types.js"></script>
    <script type="text/babel">

      //Hooks flow Diagram:

      //Todo: did not understand Properly
      function Child() {
        console.log('%c Child :  render start', 'colour: MediumSpringGreen')

        const [count, setCount] = React.useState(() => {
          console.log('%c Child :  useState(() => 0)', 'color:tomato')
          return 0
        })


        React.useEffect(() => {
          console.log('%c Child: useEffect(()=>{})', 'color:LightCoral')

          return () => {
            console.log('%c Child: useEffect(()=>{}) cleanup', 'color: LightCoral')
          }
        })

        React.useEffect(() => {
          console.log('%c Child: useEffect(()=>{},[])', 'color:MediumTurquoise')

          return () => {
            console.log('%c Child: useEffect(()=>{},[]) cleanup', 'color: MediumTurquoise')
          }
        }, [])

        React.useEffect(() => {
          console.log('%c Child: useEffect(()=>{},[count])', 'color:HotPink')
          return () => {
            console.log('%c Child: useEffect(()=>{},[count]) cleanup', 'color: HotPink')
          }
        }, [count])

        const element = (
                <button onClick={() => setCount(previousCount => previousCount +1 )}>{count}</button>
        )

        console.log('%c Child: render end','color:MediumSpringGreen')

        return element
      }


      function App() {
        console.log('%c App :  render start', 'colour: MediumSpringGreen')

        const [showChild, setShowChild] = React.useState(() => {
          console.log('%c App :  useState(() => false)', 'color:tomato')
          return false
        })


        React.useEffect(() => {
          console.log('%c App: useEffect(()=>{})', 'color:LightCoral')

          return () => {
            console.log('%c App: useEffect(()=>{}) cleanup', 'color: LightCoral')
          }
        })

        React.useEffect(() => {
          console.log('%c App: useEffect(()=>{},[])', 'color:MediumTurquoise')

          return () => {
            console.log('%c App: useEffect(()=>{},[]) cleanup', 'color: MediumTurquoise')
          }
        }, [])

        React.useEffect(() => {
          console.log('%c App: useEffect(()=>{},[showChild])', 'color:HotPink')
          return () => {
            console.log('%c App: useEffect(()=>{},[showChild]) cleanup', 'color: HotPink')
          }
        }, [showChild])

        const element = (
               <>
               <label>
                  <input type="checkbox" checked={showChild} onChange={e=> setShowChild(e.target.checked)}/>
                 {''} show Child
               </label>
                 <div
                     style={{
                       padding :10,
                       margin : 10,
                       height : 50,
                       width: 50,
                       border:'solid',

                     }}
                 >
                   {showChild ? <Child/>  : null}
               </div>
                 </>
        )

        console.log('%c App: render end','color:MediumSpringGreen')

        return element
      }

      ReactDOM.render(<App/>,document.getElementById('root'))

    </script>
  </body>
</html>
